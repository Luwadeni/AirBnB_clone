o
    >]êb&  ã                   @   sŽ   d Z ddlZddlZddlZddlmZ ddlmZ ddl mZ G dd „ d ej	ƒZ
G dd	„ d	ej	ƒZ
G d
d
„ d
ej	ƒZe
dkrEe ¡  dS dS )
z{Defines unittests for models/user.py.

Unittest classes:
    TestUser_instantiation
    TestUser_save
    TestUser_to_dict
é    N)Údatetime)Úsleep)ÚUserc                   @   s   e Zd ZdZdd„ Zdd„ Zdd „ Zdd	„ Z d
d
„ Zdd
„ Z	dd„ Z
dd„ Z
dd„ Zdd„ Z
dd„ Zdd„ Zdd„ Zdd„ Zdd„ Zd d!„ Zd"S )#ÚTestUser_instantiationz6Unittests for testing instantiation of the User class.c                 C   s   |   tttƒ ƒ¡ d S ©N)Ú
assertEqualr   Útype©Úself© r
   úI/home/lexxyla/Desktop/Brennan/AirBnB_clone/tests/test_models/test_user.pyÚtest_no_args_instantiates   ó   z0TestUser_instantiation.test_no_args_instantiatesc                 C   s   |   tƒ tj ¡  ¡ ¡ d S r   )ÚassertInr   ÚmodelsÚ storageÚallÚvaluesr	   r
   r
   r   Ú#test_new_instance_stored_in_objects   s   z:TestUser_instantiation.test_new_instance_stored_in_objectsc                 C   ó   |   tttƒ jƒ¡ d S r   )r    Ústrr   r   Úidr	   r
   r
   r   Útest_id_is_public_str   ó   z,TestUser_instantiation.test_id_is_public_strc                 C   r   r   )r    r   r   r   Ú
created_atr	   r
   r
   r   Ú"test_created_at_is_public_datetime   r   z9TestUser_instantiation.test_created_at_is_public_datetimec                 C   r   r   )r    r   r   r   Ú
updated_atr	   r
   r
   r   Ú"test_updated_at_is_public_datetime    r   z9TestUser_instantiation.test_updated_at_is_public_datetimec                 C   ó   |   tttjƒ¡ d S r   )r    r   r   r   Úemailr	   r
   r
   r   Útest_email_is_public_str#   r   z/TestUser_instantiation.test_email_is_public_strc                 C   r   r   )r    r   r   r   Úpasswordr	   r
   r
   r   Útest_password_is_public_str&   r   z2TestUser_instantiation.test_password_is_public_strc                 C   r   r   )r    r   r   r   Ú
first_namer	   r
   r
   r   Útest_first_name_is_public_str)   r   z4TestUser_instantiation.test_first_name_is_public_strc                 C   r   r   )r    r   r   r   Ú	last_namer	   r
   r
   r   Útest_last_name_is_public_str,   r   z3TestUser_instantiation.test_last_name_is_public_strc                 C   s    t ƒ }t ƒ }|  |j|j¡ d S r   )r   ÚassertNotEqualr   ©r
   Zus1Zus2r
   r
   r   Útest_two_users_unique_ids/   s   z0TestUser_instantiation.test_two_users_unique_idsc                 C   ó(   t ƒ }tdƒ t ƒ }|  |j|j¡ d S ©Ngš™™™™™©?)r   r   Ú
assertLessr   r(   r
   r
   r   Ú#test_two_users_different_created_at4   ó   z:TestUser_instantiation.test_two_users_different_created_atc                 C   r*   r+   )r   r   r,   r   r(   r
   r
   r   Ú#test_two_users_different_updated_at:   r.   z:TestUser_instantiation.test_two_users_different_updated_atc                 C   sl   t  ¡ }t|ƒ}tƒ }d|_| |_|_|  ¡ }|  d|¡ |  d|¡ |  d| |¡ |  d| |¡ d S )NÚ123456z[User] (123456)z'id': '123456'z'created_at': z'updated_at': )	r   ÚtodayÚreprr   r   r   r   Ú __str__r   )r
   ÚdtÚ dt_reprÚusZusstrr
   r
   r   Útest_str_representation@   s   z.TestUser_instantiation.test_str_representationc                 C   s   t d ƒ}|  d |j ¡ ¡ d S r   )r   Ú
assertNotInÚ__dict__r   ©r
   r6   r
   r
   r   Útest_args_unusedL   s   z'TestUser_instantiation.test_args_unusedc                 C   sL   t  ¡ }| ¡ }td||d}|  |jd¡ |  |j|¡ |  |j |¡ d S )NÚ345©r   r   r   )r   r1   Ú	isoformatr   r    r   r   r   )r
   r4   Údt_isor6   r
   r
   r   Útest_instantiation_with_kwargsP   s   z5TestUser_instantiation.test_instantiation_with_kwargsc                 C   s>   |   t¡ td d d d W d   ƒ d S 1 sw   Y  d S )Nr=   )ÚassertRaisesÚ	TypeErrorr   r	   r
   r
   r   Ú#test_instantiation_with_None_kwargsX   s   "ÿz:TestUser_instantiation.test_instantiation_with_None_kwargsN)Ú__name__Ú
__module__Ú__qualname__Ú __doc__r
   r   r   r   r   r    r"   r$   r&   r)   r-   r/   r7   r;   r@   rC   r
   r
   r
   r   r      s$    r   c                   @   sD   e Zd ZdZedd„ ƒZdd„ Zdd „ Z dd	„ Zd
d
„ Z	dd
„ Z
dS )Ú
TestUser_savez0Unittests for testing save method of the  class.c                 C   s(   z	t  dd¡ W d S  ty   Y d S w ©Nú	file.jsonÚtmp)ÚosÚrenameÚ IOErrorr	   r
   r
   r   ÚsetUp`   s
   ÿzTestUser_save.setUpc                 C   sJ   z t  d¡ W n	 ty   Y nw z	t  dd¡ W d S  ty$   Y d S w rI   )rL   ÚremoverN   rM   r	   r
   r
   r   ÚtearDowng   s   ÿÿzTestUser_save.tearDownc                 C   s.   t ƒ }tdƒ |j}| ¡  |  ||j¡ d S r+   ©r   r   r   Úsaver,   )r
   r6   Úfirst_updated_atr
   r
   r   Ú
test_one_saveq   s
   zTestUser_save.test_one_savec                 C   sP   t ƒ }tdƒ |j}| ¡  |j}|  ||¡ tdƒ | ¡  |  ||j¡ d S r+   rR   )r
   r6   rT   Úsecond_updated_atr
   r
   r   Útest_two_savesx   s   zTestUser_save.test_two_savesc                 C   ó@   t ƒ }|  t¡ | d ¡ W d   ƒ d S 1 sw   Y  d S r   )r   rA   rB   rS   r:   r
   r
   r   Útest_save_with_argƒ   ó   "ÿz TestUser_save.test_save_with_argc                 C   sX   t ƒ }| ¡  d|j }tddƒ}|  || ¡ ¡ W d   ƒ d S 1 s%w   Y  d S )NzUser.rJ   Úr)r   rS   r   Úopenr   Úread)r
   r6   ZusidÚfr
   r
   r   Útest_save_updates_fileˆ   s   
"ÿz$TestUser_save.test_save_updates_fileN)
rD   rE   rF   rG   Ú
classmethodrO   rQ   rU   rW   rY   r_   r
   r
   r
   r   rH   ]   s    

 
rH   c                   @   sH   e Zd ZdZdd„ Zdd„ Zdd „ Zdd	„ Z d
d
„ Zdd
„ Z	dd„ Z
dS )ÚTestUser_to_dictz7Unittests for testing to_dict method of the User class.c                 C   s   |   tttƒ  ¡ ƒ¡ d S r   )Ú
assertTrueÚdictr   r   Ú to_dictr	   r
   r
   r   Útest_to_dict_type“   s   z"TestUser_to_dict.test_to_dict_typec                 C   sJ   t ƒ }|  d| ¡ ¡ |  d| ¡ ¡ |  d| ¡ ¡ |  d| ¡ ¡ d S )Nr   r   r   Ú	__class__)r   r   rd   r:   r
   r
   r   Ú"test_to_dict_contains_correct_keys–   s
   z3TestUser_to_dict.test_to_dict_contains_correct_keysc                 C   s4   t ƒ }d|_d|_|  d|j¡ |  d| ¡ ¡ d S )NÚ	Holbertonéb   Ú	my_number)r   Ú
middle_namerj   r    r   rd   r:   r
   r
   r   Ú&test_to_dict_contains_added_attributes   s
   z7TestUser_to_dict.test_to_dict_contains_added_attributesc                 C   sN   t ƒ }| ¡ }|  tt|d ƒ¡ |  tt|d ƒ¡ |  tt|d ƒ¡ d S )Nr   r   r   )r   rd   r    r   r   )r
   r6   Z us_dictr
   r
   r   Ú)test_to_dict_datetime_attributes_are_strs¤   s
   z:TestUser_to_dict.test_to_dict_datetime_attributes_are_strsc                 C   sJ   t  ¡ }tƒ }d|_| |_|_dd| ¡ | ¡ dœ}|   | ¡ |¡ d S )Nr0   r   )r   rf   r   r   )	r   r1   r   r   r   r   r>   ÚassertDictEqualrd   )r
   r4   r6   Útdictr
   r
   r   Útest_to_dict_output«   s   üz$TestUser_to_dict.test_to_dict_outputc                 C   s   t ƒ }|  | ¡ |j¡ d S r   )r   r'   rd   r9   r:   r
   r
   r   Ú!test_contrast_to_dict_dunder_dict¸   s   z2TestUser_to_dict.test_contrast_to_dict_dunder_dictc                 C   rX   r   )r   rA   rB   rd   r:   r
   r
   r   Útest_to_dict_with_arg¼   rZ   z&TestUser_to_dict.test_to_dict_with_argN)
rD   rE   rF   rG   re   rg   rl   rm   rp   rq   rr   r
   r
   r
   r   ra      s       
ra   Ú__main__)rG   rL   r   Úunittestr   Útimer   Ú
models.userr   ÚTestCaser   rH   ra   rD   Úmainr
   r
   r
   r   Ú<module>   s    L32ÿ
