o
    >]√™bY  √£                   @   s≈Ω   d Z ddlZddlZddlZddlmZ ddlmZ ddl mZ G dd ‚Äû d ej	∆íZ
G dd	‚Äû d	ej	∆íZ
G d
d
‚Äû d
ej	∆íZe
dkrEe¬†¬°  dS dS )
z{Defines unittests for models/city.py.

Unittest classes:
    TestCity_instantiation
    TestCity_save
    TestCity_to_dict
√©    N)√ödatetime)√ösleep)√öCityc                   @   s‚Ç¨   e Zd ZdZdd‚Äû Zdd‚Äû Zdd ‚Äû Zdd	‚Äû Z d
d
‚Äû Zdd
‚Äû Z	dd‚Äû Z
dd‚Äû Z
dd‚Äû Zdd‚Äû Z
dd‚Äû Zdd‚Äû Zdd‚Äû Zdd‚Äû ZdS )√öTestCity_instantiationz6Unittests for testing instantiation of the City class.c                 C   s   | ¬† ttt∆í ∆í¬° d S ¬©N)√ö
assertEqualr   √ötype¬©√öself¬© r
   √∫I/home/lexxyla/Desktop/Brennan/AirBnB_clone/tests/test_models/test_city.py√ötest_no_args_instantiates   s   z0TestCity_instantiation.test_no_args_instantiatesc                 C   s   | ¬† t∆í tj¬†¬° ¬†¬° ¬° d S r   )√öassertInr   √ömodels√ö storage√öall√övaluesr	   r
   r
   r   √ö#test_new_instance_stored_in_objects   s   z:TestCity_instantiation.test_new_instance_stored_in_objectsc                 C   √≥   | ¬† ttt∆í j∆í¬° d S r   )r    √östrr   r   √öidr	   r
   r
   r   √ötest_id_is_public_str   √≥   z,TestCity_instantiation.test_id_is_public_strc                 C   r   r   )r    r   r   r   √ö
created_atr	   r
   r
   r   √ö"test_created_at_is_public_datetime   r   z9TestCity_instantiation.test_created_at_is_public_datetimec                 C   r   r   )r    r   r   r   √ö
updated_atr	   r
   r
   r   √ö"test_updated_at_is_public_datetime    r   z9TestCity_instantiation.test_updated_at_is_public_datetimec                 C   √≥:   t ∆í }| ¬†ttt j∆í¬° | ¬†dt|∆í¬° | ¬† d|j¬° d S )N√östate_id)	r   r    r   r   r   r   √ödir√ö
assertNotIn√ö__dict__¬©r
   √öcyr
   r
   r   √ö'test_state_id_is_public_class_attribute#   √≥   z>TestCity_instantiation.test_state_id_is_public_class_attributec                 C   r   )N√öname)	r   r    r   r   r&   r   r   r    r!   r"   r
   r
   r   √ö#test_name_is_public_class_attribute)   r%   z:TestCity_instantiation.test_name_is_public_class_attributec                 C   s    t ∆í }t ∆í }| ¬†|j|j¬° d S r   )r   √öassertNotEqualr   ¬©r
   Zcy1Zcy2r
   r
   r   √ötest_two_cities_unique_ids/   s   z1TestCity_instantiation.test_two_cities_unique_idsc                 C   √≥(   t ∆í }td∆í t ∆í }| ¬†|j|j¬° d S ¬©Ng≈°‚Ñ¢‚Ñ¢‚Ñ¢‚Ñ¢‚Ñ¢¬©?)r   r   √ö
assertLessr   r)   r
   r
   r   √ö$test_two_cities_different_created_at4   √≥   z;TestCity_instantiation.test_two_cities_different_created_atc                 C   r+   r,   )r   r   r-   r   r)   r
   r
   r   √ö$test_two_cities_different_updated_at:   r/   z;TestCity_instantiation.test_two_cities_different_updated_atc                 C   sl   t ¬†¬° }t|∆í}t∆í }d|_| |_|_|¬† ¬° }| ¬†d|¬° | ¬†d|¬° | ¬†d| |¬° | ¬†d| |¬° d S )N√ö123456z[City] (123456)z'id': '123456'z'created_at': z'updated_at': )	r   √ötoday√öreprr   r   r   r   √ö __str__r   )r
   √ödt√ö dt_reprr#   Zcystrr
   r
   r   √ötest_str_representation@   s   z.TestCity_instantiation.test_str_representationc                 C   s   t d ∆í}| ¬†d |j¬†¬° ¬° d S r   )r   r    r!   r   r"   r
   r
   r   √ötest_args_unusedL   s   z'TestCity_instantiation.test_args_unusedc                 C   sL   t ¬†¬° }|¬†¬° }td||d¬ç}| ¬†|jd¬° | ¬†|j|¬° | ¬†|j |¬° d S )N√ö345¬©r   r   r   )r   r2   √ö	isoformatr   r    r   r   r   )r
   r5   √ödt_isor#   r
   r
   r   √ötest_instantiation_with_kwargsP   s   z5TestCity_instantiation.test_instantiation_with_kwargsc                 C   s>   | ¬† t¬°¬è td d d d¬ç W d   ∆í d S 1 sw   Y  d S )Nr:   )√öassertRaises√ö	TypeErrorr   r	   r
   r
   r   √ö#test_instantiation_with_None_kwargsX   s   "√øz:TestCity_instantiation.test_instantiation_with_None_kwargsN)√ö__name__√ö
__module__√ö__qualname__√ö __doc__r
   r   r   r   r   r$   r'   r*   r.   r0   r7   r8   r=   r@   r
   r
   r
   r   r      s     r   c                   @   sD   e Zd ZdZedd‚Äû ∆íZdd‚Äû Zdd ‚Äû Z dd	‚Äû Zd
d
‚Äû Z	dd
‚Äû Z
dS )√ö
TestCity_savez4Unittests for testing save method of the City class.c                 C   s(   z	t ¬†dd¬° W d S  ty   Y d S w ¬©N√∫	file.json√ötmp)√öos√örename√ö IOErrorr	   r
   r
   r   √ösetUp`   s
   √øzTestCity_save.setUpc                 C   sJ   z t ¬†d¬° W n	 ty   Y nw z	t ¬†dd¬° W d S  ty$   Y d S w rF   )rI   √öremoverK   rJ   r	   r
   r
   r   √ötearDowng   s   √ø√øzTestCity_save.tearDownc                 C   s.   t ∆í }td∆í |j}|¬†¬°  | ¬†||j¬° d S r,   ¬©r   r   r   √ösaver-   )r
   r#   √öfirst_updated_atr
   r
   r   √ö
test_one_saveq   s
   zTestCity_save.test_one_savec                 C   sP   t ∆í }td∆í |j}|¬†¬°  |j}| ¬†||¬° td∆í |¬†¬°  | ¬†||j¬° d S r,   rO   )r
   r#   rQ   √ösecond_updated_atr
   r
   r   √ötest_two_savesx   s   zTestCity_save.test_two_savesc                 C   √≥@   t ∆í }| ¬†t¬°¬è |¬†d ¬° W d   ∆í d S 1 sw   Y  d S r   )r   r>   r?   rP   r"   r
   r
   r   √ötest_save_with_arg∆í   √≥   "√øz TestCity_save.test_save_with_argc                 C   sX   t ∆í }|¬†¬°  d|j }tdd∆í¬è}| ¬†||¬†¬° ¬° W d   ∆í d S 1 s%w   Y  d S )NzCity.rG   √ör)r   rP   r   √öopenr   √öread)r
   r#   Zcyid√öfr
   r
   r   √ötest_save_updates_fileÀÜ   s   
"√øz$TestCity_save.test_save_updates_fileN)
rA   rB   rC   rD   √ö
classmethodrL   rN   rR   rT   rV   r\   r
   r
   r
   r   rE   ]   s    

 
rE   c                   @   sH   e Zd ZdZdd‚Äû Zdd‚Äû Zdd ‚Äû Zdd	‚Äû Z d
d
‚Äû Zdd
‚Äû Z	dd‚Äû Z
dS )√öTestCity_to_dictz7Unittests for testing to_dict method of the City class.c                 C   s   | ¬† ttt∆í ¬†¬° ∆í¬° d S r   )√ö
assertTrue√ödictr   r   √ö to_dictr	   r
   r
   r   √ötest_to_dict_type‚Äú   s   z"TestCity_to_dict.test_to_dict_typec                 C   sJ   t ∆í }| ¬†d|¬†¬° ¬° | ¬†d|¬†¬° ¬° | ¬†d|¬†¬° ¬° | ¬†d|¬†¬° ¬° d S )Nr   r   r   √ö	__class__)r   r   ra   r"   r
   r
   r   √ö"test_to_dict_contains_correct_keys‚Äì   s
   z3TestCity_to_dict.test_to_dict_contains_correct_keysc                 C   s4   t ∆í }d|_d|_| ¬†d|j¬° | ¬†d|¬†¬° ¬° d S )N√ö	Holberton√©b   √ö	my_number)r   √ö
middle_namerg   r    r   ra   r"   r
   r
   r   √ö&test_to_dict_contains_added_attributes¬ù   s
   z7TestCity_to_dict.test_to_dict_contains_added_attributesc                 C   sN   t ∆í }|¬†¬° }| ¬†tt|d ∆í¬° | ¬†tt|d ∆í¬° | ¬†tt|d ∆í¬° d S )Nr   r   r   )r   ra   r    r   r   )r
   r#   Z cy_dictr
   r
   r   √ö)test_to_dict_datetime_attributes_are_strs¬§   s
   z:TestCity_to_dict.test_to_dict_datetime_attributes_are_strsc                 C   sJ   t ¬†¬° }t∆í }d|_| |_|_dd|¬†¬° |¬†¬° d≈ì}| ¬† |¬†¬° |¬° d S )Nr1   r   )r   rc   r   r   )	r   r2   r   r   r   r   r;   √öassertDictEqualra   )r
   r5   r#   √ötdictr
   r
   r   √ötest_to_dict_output¬´   s   √ºz$TestCity_to_dict.test_to_dict_outputc                 C   s   t ∆í }| ¬†|¬†¬° |j¬° d S r   )r   r(   ra   r!   r"   r
   r
   r   √ö!test_contrast_to_dict_dunder_dict¬∏   s   z2TestCity_to_dict.test_contrast_to_dict_dunder_dictc                 C   rU   r   )r   r>   r?   ra   r"   r
   r
   r   √ötest_to_dict_with_arg¬º   rW   z&TestCity_to_dict.test_to_dict_with_argN)
rA   rB   rC   rD   rb   rd   ri   rj   rm   rn   ro   r
   r
   r
   r   r^   ¬ê   s       
r^   √ö__main__)rD   rI   r   √öunittestr   √ötimer   √ö
models.cityr   √öTestCaser   rE   r^   rA   √ömainr
   r
   r
   r   √ö<module>   s    L32√ø
